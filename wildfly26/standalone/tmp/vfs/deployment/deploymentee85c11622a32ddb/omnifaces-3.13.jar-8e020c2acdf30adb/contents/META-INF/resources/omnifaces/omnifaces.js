var OmniFaces=OmniFaces||{EVENT:"omnifaces.event",VIEW_STATE_PARAM:"javax.faces.ViewState",CLIENT_WINDOW_PARAM:"javax.faces.ClientWindow"};
OmniFaces.Util=function(d,g){function k(a,f,b,h,d){h=h.replace(/^\s+|\s+$/g,"").split(/\s+/);for(var c=0;c<h.length;c++){var e=h[c];if(a[f])a[f](e,d);else if(a[b])a[b]("on"+e,d)}}function e(a,b,c){var f=a[b];f&&(a[b]=function(){c();return f.apply(this,arguments)})}var b={addEventListener:function(a,b,c){k(a,"addEventListener","attachEvent",b,c)},removeEventListener:function(a,b,c){k(a,"removeEventListener","detachEvent",b,c)},addOnloadListener:function(a){if(d.jQuery)jQuery(a);else if("complete"===
g.readyState)setTimeout(a);else if(d.addEventListener||d.attachEvent)b.addEventListener(d,"load",a);else if("function"===typeof d.onload){var f=d.onload;d.onload=function(){f();a()}}else d.onload=a},addSubmitListener:function(a){b.addEventListener(g,"submit",a);d.mojarra&&e(mojarra,"jsfcljs",a);d.myfaces&&e(myfaces.oam,"submitForm",a);d.PrimeFaces&&e(PrimeFaces,"addSubmitParam",a)},resolveFunction:function(a){return"function"!==typeof a&&(a=d[a]||function(){}),a},getFacesForm:function(){for(var a=
0;a<g.forms.length;a++)if(g.forms[a][OmniFaces.VIEW_STATE_PARAM])return g.forms[a];d.jsf&&"Development"!=jsf.getProjectStage()||!d.console||!console.error||console.error("OmniFaces: Cannot find a JSF form in the document. Please add one.");return null},updateParameter:function(a,b,c){var h=new RegExp("(^|[?\x26#])"+b+"\x3d.*?([\x26#]|$)","i");c?(b=b+"\x3d"+encodeURIComponent(c),a=a?a.match(h)?a.replace(h,"$1"+b+"$2"):a+("\x26"+b):b):a=a.replace(h,"$2");"\x26"==a.charAt(0)&&(a=a.substring(1));return a},
loadScript:function(a,f,c,h,d,e,k){var l=b.resolveFunction(h),p=b.resolveFunction(d),r=b.resolveFunction(e),u=b.resolveFunction(k),m=g.createElement("script"),v=g.head||g.documentElement;m.async=!0;m.src=a;m.setAttribute("crossorigin",f||"anonymous");m.setAttribute("integrity",c||"");m.onerror=function(){r()};m.onload=m.onreadystatechange=function(a,b){if(b||!m.readyState||/loaded|complete/.test(m.readyState)){m.onload=m.onreadystatechange=null;if(b)m.onerror();else p();m=null;u()}};b.addOnloadListener(function(){l();
v.insertBefore(m,null)})}};return b}(window,document);
OmniFaces.Highlight=function(d,g){function k(){d.removeEventListener(this,"click input",k);var b=this.getAttribute("data-omnifaces-highlight-class");if(b){this.removeAttribute("data-omnifaces-highlight-class");b=new RegExp(" "+b,"g");this.className=this.className.replace(b,"");var a=this.getAttribute("data-omnifaces-highlight-label");a&&(this.removeAttribute("data-omnifaces-highlight-label"),a=e[this.id],a.className=a.className.replace(b,""))}}var e;return{apply:function(b,a,f){for(var c=g.getElementsByTagName("LABEL"),
h={},l=0;l<c.length;l++){var p=c[l],q=p.htmlFor;q&&(h[q]=p)}e=h;for(c=0;c<b.length;c++)if(l=b[c],h=g.getElementById(l),h||(l=g.getElementsByName(l))&&l.length&&(h=l[0]),h){h.className+=" "+a;h.setAttribute("data-omnifaces-highlight-class",a);if(l=e[h.id])l.className+=" "+a,h.setAttribute("data-omnifaces-highlight-label",!0);f&&(h.focus(),f=!1);d.addEventListener(h,"click input",k)}}}}(OmniFaces.Util,document);
OmniFaces.DeferredScript=function(d){function g(e){if(!(0>e||e>=k.length)){var b=k[e];d.loadScript(b.url,b.crossorigin,b.integrity,b.begin,b.success,b.error,function(){g(e+1)})}}var k=[];return{add:function(e,b,a,f,c,h){k.push({url:e,crossorigin:b,integrity:a,begin:f,success:c,error:h});1==k.length&&d.addOnloadListener(function(){g(0)})}}}(OmniFaces.Util);
OmniFaces.Unload=function(d,g,k){var e,b,a={init:function(f){if(k.XMLHttpRequest){if(null==e){var c=d.getFacesForm();if(!c)return;d.addEventListener(k,"onpagehide"in k?"pagehide":"onbeforeunload"in k&&!k.onbeforeunload?"beforeunload":"unload",function(){if(b)a.reenable();else try{var d=c.action,f=OmniFaces.EVENT+"\x3dunload\x26id\x3d"+e+"\x26"+OmniFaces.VIEW_STATE_PARAM+"\x3d"+encodeURIComponent(c[OmniFaces.VIEW_STATE_PARAM].value);if(g.sendBeacon)g.sendBeacon(d,new Blob([f],{type:"application/x-www-form-urlencoded"}));
else{var k=new XMLHttpRequest;k.open("POST",d,!1);k.setRequestHeader("X-Requested-With","XMLHttpRequest");k.setRequestHeader("Content-Type","application/x-www-form-urlencoded");k.send(f)}}catch(q){}});d.addSubmitListener(function(){a.disable()})}e=f;b=!1}},disable:function(){b=!0},reenable:function(){b=!1}};return a}(OmniFaces.Util,navigator,window);
OmniFaces.Push=function(d,g){function k(a,b,d,f,e,k,g){var c,h,l=this;l.open=function(){c&&1==c.readyState||(c=new WebSocket(a),c.onopen=function(){null==h&&d(b);h=0},c.onmessage=function(a){var c=JSON.parse(a.data);f(c,b,a);if((a=g[c])&&a.length)for(c=0;c<a.length;c++)a[c]()},c.onclose=function(a){!c||1E3==a.code&&"Expired"==a.reason||1008==a.code||1005==a.code&&"Unknown channel"==a.reason||null==h||25<=h?k(a.code,b,a):(e(a.code,b,a),setTimeout(l.open,500*h++))})};l.close=function(){if(c){var a=
c;h=c=null;a.close()}}}function e(b){var c=a[b];if(c)return c;throw Error("Unknown channel: "+b);}var b=g.location.protocol.replace("http","ws")+"//",a={},f={init:function(c,e,l,p,q,n,t,r){n=d.resolveFunction(n);var h=e.split(/\?/)[0];if(g.WebSocket){if(!a[h]){var m=(c=c||"")&&0!=c.indexOf("/")?0==c.indexOf(":")?g.location.hostname:"":g.location.host;a[h]=new k(b+m+c+"/omnifaces.push/"+e,h,d.resolveFunction(l),d.resolveFunction(p),d.resolveFunction(q),n,t)}r&&f.open(h)}else n(-1,h)},open:function(a){e(a).open()},
close:function(a){e(a).close()}};return f}(OmniFaces.Util,window);
OmniFaces.InputFile=function(d,g){return{validate:function(k,e,b,a){if(!d.FileReader)return!0;g.getElementById(b).innerHTML="";for(b=0;b<e.files.length;b++){var f=e.files[b];if(f.size>a){a=f.name;var c;d.mojarra&&(c=e.form.enctype,e.form.enctype="application/x-www-form-urlencoded");e.type="text";e.type="file";a={fileName:a};a[OmniFaces.EVENT]="validationFailed";jsf.ajax.request(e.id,k,a);c&&(e.form.enctype=c);return!1}}return!0}}}(window,document);
OmniFaces.Form=function(d,g){d.addOnloadListener(function(){if(g.jsf){var d=jsf.getViewState;jsf.getViewState=function(e){var b=d(e);if("true"!=e.attributes["data-partialsubmit"])return b;var a=jsf.ajax.request.arguments,f=a?a[2].execute:null;if(!f||-1!=f.indexOf("@form")||-1!=f.indexOf("@all"))return b;var c=[];-1==f.indexOf("@none")&&(c=f.replace("@this",a[0].id).split(" ").map(encodeURIComponent),c.push(encodeURIComponent(e.id)));c.push(OmniFaces.VIEW_STATE_PARAM);c.push(OmniFaces.CLIENT_WINDOW_PARAM);
var h=[];b.replace(/([^=&]+)=([^&]*)/g,function(a,b,d){-1<c.indexOf(b)&&h.push(b+"\x3d"+d)});return h.join("\x26")}}})}(OmniFaces.Util,window);
OmniFaces.HashParam=function(d,g,k){function e(){if(!a){var e={execute:b,hash:g.location.hash.substring(1)};e[OmniFaces.EVENT]="setHashParamValues";jsf.ajax.request(d.getFacesForm(),null,e)}}var b,a;return{init:function(a){b=a;d.getFacesForm()&&(g.location.hash&&e(),d.addEventListener(g,"hashchange",e))},update:function(b,c){a=!0;var e=g.location,f=e.hash;f&&"#"==f.charAt(0)&&(f=f.substring(1));b=d.updateParameter(f,b,c);b!=f&&((f=g.history)&&f.pushState?(e=e.href.split(/#/,2)[0]+(b?"#":"")+b,f.pushState(null,
k.title,e)):e.hash=b);a=!1}}}(OmniFaces.Util,window,document);OmniFaces.ScriptParam=function(d){function g(d){if(!(d instanceof Object))return d;var e={},b;for(b in d)d[b]instanceof Function||d[b]instanceof Object||(e[b]=d[b]);return e}return{run:function(k,e){var b=d.getFacesForm();if(b){var a={},f;for(f in e)a[f]=JSON.stringify(g(e[f]));a.execute=k;a[OmniFaces.EVENT]="setScriptParamValues";jsf.ajax.request(b,null,a)}}}}(OmniFaces.Util);
OmniFaces.ServiceWorker=function(d,g){return{init:function(k,e){g.serviceWorker&&(g.serviceWorker.register(k,{scope:e}),g.serviceWorker.addEventListener("message",function(b){b.data&&b.data.type==OmniFaces.EVENT&&d.dispatchEvent(new CustomEvent(b.data.name,{detail:b.data.detail}))}))}}}(window,navigator);
OmniFaces.GraphicImage=function(d,g,k){function e(){return k.querySelectorAll("img[src][data-src][data-lazy]")}function b(a){var b=a.dataset;b.lazy&&b.src&&(a.src=b.src);delete b.src;delete b.lazy}d.addOnloadListener(function(){var a=e();if(0!=a.length)if(g.IntersectionObserver){var f=new IntersectionObserver(function(a){a.forEach(function(a){a.isIntersecting&&(a=a.target,b(a),f.unobserve(a))})});a.forEach(function(a){f.observe(a)})}else{var c,h=function(){c&&clearTimeout(c);c=setTimeout(function(){for(var a=
e(),c=g.innerHeight+g.pageYOffset,f=0;f<a.length;f++){var n=a[f];n.offsetTop<c&&b(n)}0==e().length&&(d.removeEventListener(g,"resize orientationChange",h),d.removeEventListener(k,"scroll",h))},50)};d.addEventListener(g,"resize orientationChange",h);d.addEventListener(k,"scroll",h)}})}(OmniFaces.Util,window,document);